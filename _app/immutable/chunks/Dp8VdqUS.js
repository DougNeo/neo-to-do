import{b as N,h as o,a as I,E as A,H as S,r as R,s as U,c as v,d as p,e as h,p as g,U as D,f as x,t as F,g as H,n as y,m as L,i as O,j}from"./nWfHSwW3.js";import{s as k,g as q}from"./De5AbUR3.js";function P(e,n,r=!1){o&&I();var s=e,t=null,a=null,u=D,m=r?A:0,l=!1;const E=(c,i=!0)=>{l=!0,b(i,c)},b=(c,i)=>{if(u===(u=c))return;let d=!1;if(o){const T=s.data===S;!!u===T&&(s=R(),U(s),v(!1),d=!0)}u?(t?p(t):i&&(t=h(()=>i(s))),a&&g(a,()=>{a=null})):(a?p(a):i&&(a=h(()=>i(s))),t&&g(t,()=>{t=null})),d&&v(!0)};N(()=>{l=!1,n(E),l||b(null,null)},m),o&&(s=x)}let f=!1,_=Symbol();function Y(e,n,r){const s=r[n]??(r[n]={store:null,source:L(void 0),unsubscribe:y});if(s.store!==e&&!(_ in r))if(s.unsubscribe(),s.store=e??null,e==null)s.source.v=void 0,s.unsubscribe=y;else{var t=!0;s.unsubscribe=k(e,a=>{t?s.source.v=a:j(s.source,a)}),t=!1}return e&&_ in r?q(e):O(s.source)}function w(e,n){return e.set(n),n}function Z(e,n){var r=e[n];r.store!==null&&w(r.store,r.source.v)}function $(){const e={};function n(){F(()=>{for(var r in e)e[r].unsubscribe();H(e,_,{enumerable:!1,value:!0})})}return[e,n]}function z(e,n,r){return e.set(r),n}function B(e){var n=f;try{return f=!1,[e(),f]}finally{f=n}}export{Y as a,z as b,Z as c,B as d,P as i,$ as s};
